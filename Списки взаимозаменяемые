{"uid":"ul7ner0akt15s1wkbq8d","className":"WidgetField","data":{"special_case":42,"datamix":{"nodebg":"4.2","widgetpaddings":"4.2","widgetborders":"4.2","widgetshadow":"4.2","widgetfx":"4.2","widgetparameters":"4.2","widgetadaptive":"4.2","metahtml":"4.2","repeater":"4.2"},"style":{"handlers":"style","vals":{"bgType":"clear","bgImage":{"datamix":{"img":"4.2"},"quality":8,"source":"upload","resize":true,"legacy_color":[0.55,1,0.5],"legacy_pack":"bg-tech","blur":{"enable":true,"size":16},"source_id":"","variable_id":"","file":"//static.creatium.io/img/bg-tech/1.jpg","size":[1600,1046]},"bgImage_Attach":false,"bgImage_Size":"cover","bgImage_Repeat":"repeat","bgImage_Valign":"center","bgImage_Halign":"center","bgVideo_Source":"youtube","bgVideo_Youtube":"http://www.youtube.com/watch?v=3oem-M2tQU4","bgVideo_YoutubeImageSource":"youtube","bgVideo_YoutubeImage":{"datamix":{"img":"4.2"},"quality":8,"source":"upload","resize":true,"legacy_color":[0,1,0.5,1],"legacy_pack":"users","blur":{"enable":true,"size":16},"source_id":"","variable_id":"","file":"http://img.youtube.com/vi/3oem-M2tQU4/maxresdefault.jpg","size":[1920,1080]},"bgVideo_Mp4":"//static.creatium.io/bgvideo/island.mp4","bgVideo_Webm":"//static.creatium.io/bgvideo/island.webm","bgVideo_Ogv":"//static.creatium.io/bgvideo/island.ogv","bgVideo_DirectImage":{"datamix":{"img":"4.2"},"quality":8,"source":"upload","resize":true,"legacy_color":[0,1,0.5,1],"legacy_pack":"users","blur":{"enable":true,"size":16},"source_id":"","variable_id":"","file":"//static.creatium.io/bgvideo/island.jpg","size":[1280,720]},"bgVideo_Sound":false,"bgColor":{"datamix":{"color":"4.2"},"data":[1,1,1,1],"global":{"id":0,"transform":[]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"global"},"bgColor_Alpha":0.25,"bgColor_Bright":0,"bgBright":-0.5,"bgGradientDirection":"to bottom","bgGradientColor1":{"datamix":{"color":"4.2"},"data":[1,1,1,1],"global":{"id":0,"transform":[]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"global"},"bgGradientColor1_Alpha":0.8,"bgGradientColor2":{"datamix":{"color":"4.2"},"data":[1,1,1,1],"global":{"id":0,"transform":[]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"global"},"bgGradientColor2_Alpha":0.2,"bgGradientCode":"linear-gradient(90deg, rgba(195,40,34,1) 0%, rgba(222,224,96,1) 50%, rgba(45,253,235,1) 100%)","bgGradientColorside":"dec","bgParticlesShapeParticle":"circle","bgParticlesColorParticle":{"datamix":{"color":"4.2"},"data":[1,1,1,1],"global":{"id":0,"transform":[]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"parent":{"type":"frontcolor"}},"bgParticlesOpacityParticle":1,"bgParticlesNumberParticle":80,"bgParticlesSizeParticle":5,"bgParticlesLink":true,"bgParticlesLinkDistance":150,"bgParticlesMoveState":true,"bgParticlesMoveSpeed":2,"bgParticlesMoveDirection":"none","bgParticlesMoveOutMode":"out","bgParticlesInteractHoverState":false,"bgParticlesInteractHoverType":"grab","bgParticlesInteractHoverGrabDistance":250,"bgParticlesInteractHoverGrabOpacity":0.8,"bgParticlesInteractHoverRepulseDistance":150,"bgParticlesInteractHoverBubbleDistance":150,"bgParticlesInteractHoverBubbleSize":10,"bgParticlesInteractClickState":false,"bgParticlesInteractClickType":"push","bgParticlesInteractClickCount":2,"padTop_x_all":5,"padTop_x_md":null,"padTop_x_sm":null,"padTop_x_xs":null,"padBottom_x_all":5,"padBottom_x_md":null,"padBottom_x_sm":null,"padBottom_x_xs":null,"padLeft_x_all":10,"padLeft_x_md":null,"padLeft_x_sm":null,"padLeft_x_xs":null,"padRight_x_all":10,"padRight_x_md":null,"padRight_x_sm":null,"padRight_x_xs":null,"borderWidth":3,"borderRadius":0,"borderStyle":"none","borderColor":{"datamix":{"color":"4.2"},"data":[1,1,1,1],"global":{"id":0,"transform":[]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"parent","parent":{"type":"frontcolor"}},"shadow":false,"shadowInset":false,"shadowX":0,"shadowY":2,"shadowBlur":5,"shadowScale":0,"shadowColor":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"self"},"shadowAlpha":0.5,"wow":false,"wowType":"fadeIn","wowDelay":0,"hover":false,"hoverType":"hvr-grow-mini","id":{"datamix":{"ast":"4.2"},"children":[{"type":"Code","code":""}]},"classes":{"datamix":{"ast":"4.2"},"children":[{"type":"Code","code":""}]},"showOnXs":true,"showOnSm":true,"showOnMd":true,"showOnLg":true,"showToMembers":true,"showToGuests":true,"showCondition":{"datamix":{"condition":"4.2"},"operator":"and","conditions":[]}}},"settings":{"handlers":"settings","vals":{"name":"HTML-компонент","html":"<div class=\"only-for-editor\"></div>\n\n\n<div class=\"filter-variable\">[[variable]]</div>","css":".filter-variable {\n  display: none;\n}\n.filter-variable p {\n  margin-bottom: 0;\n}\n.only-for-editor + .filter-variable {\n  display: block;\n}\n.disabled {\npointer-events: none; \nopacity: 0.5;\n}","meta_js":"var type = $(el).find('div[cr-field]').attr('cr-field');\n\nif (type == 'select-menu') {\n    var $select = $(el).find('div[cr-field]');\n} else {\n    var $checkbox_list = $(el).find('div[cr-field]')\n    $(el).find('.label').wrapAll('<div class=\"new\" />');\n}\n\nvar last = null;\nvar flag = false;\n\nfunction filter() {\n    var where = $(el).find('.filter-variable').text().trim();\n\n    if (where === last) return;\n    else last = where;\n\n    data.rows.forEach(function(item, index) {\n        var show;\n        try {\n            show = eval(where);\n        } catch (e) {\n            show = false;\n        }\n\n\n        if (type == 'select-menu') {\n            var $option = $select.find('option').eq(index + 1);\n            if (params.mode === 'hide') {\n                if (show) {\n                    $option.show().removeClass('hidden');\n                } else {\n                    $option.hide().addClass('hidden');\n                }\n            } else {\n                if (show) {\n                    $option.prop('disabled', false);\n                } else {\n                    $option.prop('disabled', true);\n                }\n            }\n\n            if ($select.find('option:selected').not(':visible')) {\n                page.getComponent(el).setValue(undefined);\n            }\n        } else {\n            var $option = $checkbox_list.find('.label').eq(index + 1);\n\n            if (params.ch) {\n                if (params.mode === 'hide') {\n                    var k = $checkbox_list.find('.label').not(':hidden').length;\n                } else {\n                    var k = $checkbox_list.find('.label').length - $checkbox_list.find('.disabled').length;\n                }\n\n                if (!flag) {\n                    $checkbox_list.find('.name').append('<font class=\"found\"> (' + k + ')</font>');\n                    flag = true;\n                }\n            }\n\n            if (params.mode === 'hide') {\n                if (show) {\n                    $option.show();\n                } else {\n                    $option.hide();\n                }\n                $(el).find(\".found\").text('(' + k + ')')\n                $checkbox_list.find(':hidden input:checked').click()\n            } else {\n                if (show) {\n                    $option.removeClass('disabled');\n                } else {\n                    $option.addClass('disabled');\n                }\n                $(el).find(\".found\").text('(' + k + ')')\n                $checkbox_list.find('.disabled input:checked').click()\n                if (params.sort) {\n                    setTimeout(function() {\n                        function bubbleSortConcept1(arr) {\n                            for (let j = arr.length - 1; j > 0; j--) {\n                                for (let i = 0; i < j; i++) {\n                                    console.log()\n                                    if (arr[i].classList.length > 1) {\n                                        let temp = arr[i];\n                                        arr[i] = arr[i + 1];\n                                        arr[i + 1] = temp;\n                                    }\n                                }\n                            }\n                            return arr\n                        }\n\n                        $(el).find('[cr-field=\"checkbox-list\"] .new').html(bubbleSortConcept1($(el).find('[cr-field=\"checkbox-list\"] .label')))\n                    }, params.timeout);\n                }\n            }\n        }\n    });\n}\n\n(function timer() {\n    filter();\n    setTimeout(timer, params.timeout);\n})();","meta_js_lazy":true,"meta_js_state":"return {\n  initialState: {\n  console.log(123)\n  },\n  eventListeners: {},\n  reset: function () {},\n};","encapsulation":true,"embeds":[{"name":"variable","type":"text"}],"meta_cdn":[""],"meta_cdn_sequentially":false,"tabs":[{"id":"main","name":"Главные"}],"variables":[{"macros":"columns","name":"Список полей, используемых в условии","showCondition":"","useInJs":true,"tab":"main","type":"queryfieldmany","value":["f3"]},{"macros":"info_1","name":"","showCondition":"","useInJs":false,"tab":"main","type":"info","message":"Выбирайте только те поля, которые будете использовать, чтобы избежать лишней нагрузки"},{"macros":"info_1_1","name":"Подсказка по использованию виджета","showCondition":"","useInJs":false,"tab":"main","type":"info","message":"Формула для отображения находится в самом низу поля.  <br>— Обращение к столбцу обязательно через item (пример item.f3) <br>— ID доступных столбцов можно посмотреть во кладке Данные - Результат - Наведите на заголовок столбца  <p>Если вы сравниваете с текстом, он должен быть заключен в кавычки ' ' <br>Если вы сравниваете с числом, оно должно быть без кавычек, или оно будет распознано как текст.  <p>Пример простой формулы:  item.f3 == '[параметр формы]' <br>Пример сложной формулы:  item.f3 == '[параметр формы]' && item.f4 > [параметр формы] ||  && item.f4 == '[параметр формы]'"},{"macros":"timeout","name":"Скорость обновления (мс)","showCondition":"","useInJs":true,"tab":"main","type":"number","value":100,"min":100,"max":2000},{"macros":"mode","name":"Что делать с неактивными вариантами","showCondition":"","useInJs":true,"tab":"main","type":"btngroup","value":"hide","values":{"hide":"Скрывать","disable":"Отключать"}},{"macros":"sort","name":"Отключенные переставлять в конец  (кроме выпадающего списка)","showCondition":"mode!=\"hide\"","useInJs":true,"tab":"main","type":"checkbox","value":true},{"macros":"ch","name":"Показать кол-во найденный элементов (кроме выпадающего списка)","showCondition":"","useInJs":true,"tab":"main","type":"checkbox","value":true},{"macros":"info_2","name":"","showCondition":"","useInJs":false,"tab":"main","type":"info","message":"<div class=\"box\"> <iframe src=\"https://cr-mod.ru/promo\" frameborder=\"0\"></iframe> </div> <style type=\"text/css\">     .box {         position: relative;         height: 300px; width:500px;     }      iframe {         position: absolute;         top: 0px;         left: 0px;         width: 100%;         height: 100%;     } </style>"}],"type":"checkbox-list","text":"Список галочек","hidename":false,"list":[{"text":"Гамбургер","image":{"datamix":{"img":"4.2"},"quality":8,"source":"upload","resize":true,"legacy_color":[0,1,0.5,1],"legacy_pack":"users","blur":{"enable":true,"size":16},"source_id":"","variable_id":"","file":"//i.1.creatium.io/plp/u6.plpstatic.ru/c16a5320fa475530d9583c34fd356ef5/85600fbdcfcd98c68092c8ee78fef443.jpg","size":[600,600]},"value":0,"name":"Вариант 1"},{"text":"Чай","image":{"datamix":{"img":"4.2"},"quality":8,"source":"upload","resize":true,"legacy_color":[0,1,0.5,1],"legacy_pack":"users","blur":{"enable":true,"size":16},"source_id":"","variable_id":"","file":"//i.1.creatium.io/plp/u6.plpstatic.ru/c16a5320fa475530d9583c34fd356ef5/d07611e14f2f6512eb82382ddb5812dd.jpg","size":[600,600]},"value":0,"name":"Вариант 2"},{"text":"Мороженное","image":{"datamix":{"img":"4.2"},"quality":8,"source":"upload","resize":true,"legacy_color":[0,1,0.5,1],"legacy_pack":"users","blur":{"enable":true,"size":16},"source_id":"","variable_id":"","file":"//i.1.creatium.io/plp/u6.plpstatic.ru/c16a5320fa475530d9583c34fd356ef5/ca0be5f5cd84b6891c5a611b252bc904.jpg","size":[600,600]},"value":0}],"list_column_text":"f1","list_column_image":null,"list_column_value":null,"visual_width":30,"visual_height":100,"required":false,"id":"","min":"0","max":"100","step":"1","align":"sides","fontsize":120,"typing":"string","format":"%result% руб.","file_text":"Прикрепить файл...","select_text":"Не выбрано","formula":"","condition":"","template":"","variable":"","valueOn":"1","valueOff":"0","variable2":"result2","prefill_enable":false,"prefill":{"datamix":{"ast":"4.2"},"children":[]},"privacy_button":"Политика конфиденциальности","privacy_checkbox":"Даю согласие на <обработку персональных данных>","privacy_text":"Нажимая кнопку, вы даете согласие на <обработку персональных данных>","privacy_source":"/privacy","enable_query":true,"query_scheme":"v0.2"},"tabs":{"primary":"field","field":"field_metahtml","field_metahtml__soft":"field_metahtml__soft_main","field_metahtml__hard":"field_metahtml__hard_interface"},"toggles":{"field_metahtml":"soft"}},"state":{},"embeds":{"variable":{"datamix":{"html":"4.2"},"html":{"datamix":{"ast":"4.2"},"children":[{"type":"Code","code":"item.f3 == '"},{"type":"Variable","variable":{"target":"string","source":"variable-form","id":"category","formula":{"version":1,"code":"","source":null,"error":null}}},{"type":"Code","code":"'"}]},"tag":"p","lg":{"override":{"align":true,"font":true,"size":true,"intervals":true,"columns":true,"color":true},"align":"left","font":"font-text","size":14,"intervals":{"leading":1.4,"tracking":0},"columns":{"count":1,"gap":20},"color":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[["l","rel",0]]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"inherit":false,"opacity":1}},"md":{"override":{"align":false,"font":false,"size":false,"intervals":false,"columns":false,"color":false},"align":"left","font":"font-text","size":16,"intervals":{"leading":1.4,"tracking":0},"columns":{"count":1,"gap":20},"color":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[["l","rel",0]]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"inherit":false,"opacity":1}},"sm":{"override":{"align":false,"font":false,"size":false,"intervals":false,"columns":false,"color":false},"align":"left","font":"font-text","size":16,"intervals":{"leading":1.4,"tracking":0},"columns":{"count":1,"gap":20},"color":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[["l","rel",0]]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"inherit":false,"opacity":1}},"xs":{"override":{"align":false,"font":false,"size":false,"intervals":false,"columns":false,"color":false},"align":"left","font":"font-text","size":16,"intervals":{"leading":1.4,"tracking":0},"columns":{"count":1,"gap":20},"color":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[["l","rel",0]]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"inherit":false,"opacity":1}},"tplname":"text"}},"templates":{"cont":{"datamix":{"cont":"4.2"},"sources":[],"tplname":"cont"},"text":{"datamix":{"html":"4.2"},"html":{"datamix":{"ast":"4.2"},"children":[{"type":"Code","code":"<p>Редактируемый текст</p>"}]},"tag":"p","lg":{"override":{"align":true,"font":true,"size":true,"intervals":true,"columns":true,"color":true},"align":"left","font":"font-text","size":16,"intervals":{"leading":1.4,"tracking":0},"columns":{"count":1,"gap":20},"color":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[["l","rel",0]]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"inherit":false,"opacity":1}},"md":{"override":{"align":false,"font":false,"size":false,"intervals":false,"columns":false,"color":false},"align":"left","font":"font-text","size":16,"intervals":{"leading":1.4,"tracking":0},"columns":{"count":1,"gap":20},"color":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[["l","rel",0]]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"inherit":false,"opacity":1}},"sm":{"override":{"align":false,"font":false,"size":false,"intervals":false,"columns":false,"color":false},"align":"left","font":"font-text","size":16,"intervals":{"leading":1.4,"tracking":0},"columns":{"count":1,"gap":20},"color":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[["l","rel",0]]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"inherit":false,"opacity":1}},"xs":{"override":{"align":false,"font":false,"size":false,"intervals":false,"columns":false,"color":false},"align":"left","font":"font-text","size":16,"intervals":{"leading":1.4,"tracking":0},"columns":{"count":1,"gap":20},"color":{"datamix":{"color":"4.2"},"data":[0,0,0],"global":{"id":0,"transform":[["l","rel",0]]},"variable":{"source_id":"","id":"","transform":[],"basic":[1,1,0.5,1]},"source":"contrast","contrast":{"type":"frontcolor"},"inherit":false,"opacity":1}},"tplname":"text"},"icon":{"datamix":{"rawsvgicon":"4.2"},"handlers":"rawsvgicon","vals":{"src":{"datamix":{"icon":"4.2"},"file":"//static.creatium.io/svg/icons-thin/controls-33.svg","pack":"old-thin","size":[256,256],"svg":"<style type=\"text/css\"><![CDATA[ .st0{fill:none;stroke:#231F20;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;} ]]></style><polygon class=\"st0\" points=\"30.001,2.421 38.965,20.576 59,23.49 44.499,37.622 47.922,57.579 30.001,48.156 12.076,57.579 15.5,37.622 1,23.49 21.041,20.576 \"/>","folder":"all","style":"","viewbox":[0,0,60,60],"source":"upload"}},"tplname":"icon"},"image":{"datamix":{"rawimage":"4.2"},"handlers":"rawimage","vals":{"src":{"datamix":{"img":"4.2"},"quality":8,"source":"upload","resize":true,"legacy_color":[0,1,0.5,1],"legacy_pack":"users","blur":{"enable":true,"size":16},"source_id":"","variable_id":"","file":"//i.1.creatium.io/plp/u0.plpstatic.ru/63d3a6c9689d0a310bdb33ba48a9f341/194594eafe8a83db5eb472d202544c73.png","size":[477,500]}},"tplname":"image"}},"value":{"name":"","phone":"","password":"","email":"","count":"0","slider":"0","text":"","textarea":"","checkbox-input":false,"radio-list":[false,false,false],"radio-visual":[true,false,false],"checkbox-list":[false,false,false],"checkbox-visual":[false,false,false],"select-menu":[false,false,false],"hidden":"","hackable":"","result":0,"file":"","privacy-checkbox":false},"cont":{"datamix":{"cont":"4.2"},"sources":[]},"cells":{"query":{"select":"*","from":"632f6064c72758722333917d","where":{"operator":"and","filters":[],"ignore_empty":true},"order":[],"limit":1000000,"limit_dev":20,"skip":0},"variable":"table"}},"multilandings":[],"variants":[],"virtualHeight":{"lg":659,"md":500,"sm":500,"xs":500},"redactor":"4.2","redactor_patch":5}
